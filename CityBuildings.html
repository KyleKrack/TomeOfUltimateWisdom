<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>City Building Generator</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <h1>City Building Generator</h1>
    <form id="building-form">
        <button type="submit">Generate Building</button>
    </form>

    <h2>Generated Building:</h2>
    <div id="building-output"></div>

    <script>
        // Lists of possible building types, trade goods, and actions
        const buildingNames = [
            "Inn", "Tavern", "Shrine", "Government Building", "Town Hall", "Barracks", 
            "Public Park", "Marketplace", "Blacksmith", "Library", "Guild Hall", "Farm", "Stables"
        ];

        const buildingDescriptions = [
            "A bustling place where travelers rest and gather information.",
            "A lively spot where the townsfolk relax with drinks and music.",
            "A serene place for worship and reflection, attended by priests.",
            "The hub of political power in the city, where important decisions are made.",
            "A public space where the mayor and council conduct business.",
            "A heavily fortified area where soldiers are stationed.",
            "A peaceful park where citizens gather to relax and enjoy nature.",
            "A busy market full of stalls offering all sorts of goods and services.",
            "A forge where weapons, armor, and tools are crafted.",
            "A quiet building filled with books and scrolls of knowledge.",
            "A meeting place for adventurers and craftsmen to exchange ideas.",
            "A farm where crops are grown to feed the people of the city.",
            "A stable offering horses for sale and boarding for travelers."
        ];

        const buildingActions = {
            "Inn": ["Rest for the night", "Get information from travelers", "Rent a room for 5 coins"],
            "Tavern": ["Buy a drink for 1 coin", "Listen to gossip", "Meet locals and travelers"],
            "Shrine": ["Pray for divine favor", "Donate to the shrine", "Receive a blessing for 3 coins"],
            "Government Building": ["File a complaint", "Petition for new laws", "Meet a councilor"],
            "Town Hall": ["Attend a public meeting", "Apply for citizenship", "Pay taxes"],
            "Barracks": ["Join the city guard", "Watch soldiers train", "Request assistance"],
            "Public Park": ["Relax and enjoy nature", "Join a game of chess", "Feed the birds"],
            "Marketplace": ["Buy and sell goods", "Haggle with merchants", "Browse the stalls"],
            "Blacksmith": ["Buy weapons and armor", "Commission a custom piece", "Repair your gear for 10 coins"],
            "Library": ["Read old scrolls", "Study local history", "Request a rare tome"],
            "Guild Hall": ["Join a guild", "Train in your profession", "Seek work"],
            "Farm": ["Buy fresh produce", "Help with harvesting", "Purchase supplies for 2 coins"],
            "Stables": ["Rent a horse for 10 coins", "Buy a horse", "Board your horse for 5 coins"]
        };

        // Goods and prices for the marketplace
        const tradeGoods = [
            { name: "Wheat", price: 2 },
            { name: "Fur", price: 5 },
            { name: "Leather Armor", price: 15 },
            { name: "Iron Sword", price: 25 },
            { name: "Magic Potion", price: 10 },
            { name: "Gemstone", price: 50 },
            { name: "Rope", price: 1 },
            { name: "Fruit", price: 3 },
            { name: "Clothes", price: 7 },
            { name: "Spices", price: 8 }
        ];

        document.getElementById('building-form').addEventListener('submit', function(event) {
            event.preventDefault(); // Prevent form submission

            const building = generateBuilding();
            displayBuilding(building);
        });

        // Function to randomly generate a building
        function generateBuilding() {
            const randomIndex = Math.floor(Math.random() * buildingNames.length);
            const buildingName = buildingNames[randomIndex];
            const description = buildingDescriptions[randomIndex];
            const actions = buildingActions[buildingName];

            // If it's a marketplace, add trade goods
            let goods = [];
            if (buildingName === "Marketplace") {
                goods = generateTradeGoods();
            }

            return {
                name: buildingName,
                description: description,
                actions: actions,
                goods: goods
            };
        }

        // Function to display the generated building
        function displayBuilding(building) {
            const outputDiv = document.getElementById('building-output');
            let goodsHtml = "";

            if (building.goods.length > 0) {
                goodsHtml = "<h3>Goods for Sale:</h3><ul>";
                building.goods.forEach(good => {
                    goodsHtml += `<li>${good.name}: ${good.price} coins</li>`;
                });
                goodsHtml += "</ul>";
            }

            outputDiv.innerHTML = `
                <p><strong>Building Name:</strong> ${building.name}</p>
                <p><strong>Description:</strong> ${building.description}</p>
                <p><strong>Actions:</strong></p>
                <ul>${building.actions.map(action => `<li>${action}</li>`).join('')}</ul>
                ${goodsHtml}
            `;
        }

        // Function to randomly select a few trade goods
        function generateTradeGoods() {
            const selectedGoods = [];
            const numGoods = Math.floor(Math.random() * 5) + 3; // Generate between 3 to 7 goods

            while (selectedGoods.length < numGoods) {
                const randomGood = tradeGoods[Math.floor(Math.random() * tradeGoods.length)];
                if (!selectedGoods.includes(randomGood)) {
                    selectedGoods.push(randomGood);
                }
            }

            return selectedGoods;
        }
    </script>
</body>
</html>
